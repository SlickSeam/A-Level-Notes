#AQA CS A-Level Notes

# 4.10 Fundamentals of Databases

**[Bourne to Code Link](https://bournetocode.com/projects/AQA_A_Theory/pages/4-10.html)**
# 4.10.1 Conceptual Data Models and Entity Relationship Modelling

# 4.10.2 Relational Databases

# 4.10.3 Database Normalisation
**Database normalisation** is the process to make a database model more efficient. The purpose of normalisation is to have a database structure in the third normal form
## First Normal Form (1NF)
+ A table is said to be in **first normal form** if:
  + it has no repeating attribute/field or groups of attributes
  + and it only contains atomic values
* Look at the table below. For each record, it has 3 attributes: **name**, **courseEnrolled** and **courseFinishDate**.
  + It's not in first normal form since it contains repeating groups of attributes for the two attributes: **courseEnrolled** and **courseFinishDate**
  
| name | courseEnrolled | courseFinishDate |
|--------|-------------|---------|
| Peter Parker | Maths, Biology | 12/12/2015, 01/08/2016 |
| Mary Jane | Maths, English | 29/04/2015, 21/05/2016 |

* To make the above table in first normal form, we need to make **courseEnrolled** and **courseFinishDate** contain only one/atomic value. To do this, another table, courses, will be needed which should be a different entity anyway:

**course(--courseID--, courseName)**

(-- = underlined)

| courseID | courseName |
|--------|-------------|
| 1 | Maths |
| 2 | Biology |
| 3 | English |

* Then the pupils can be changed to be in first normal form:

| pupilID | name |
|--------|-------------|
| 1 | Peter Parker |
| 2 | Mary Jane |

* A third table will be need to link the pupil and the course table togther

**enrollment(--courseID--, --pupilID--, courseLocation)**

## Second Normal Form (2NF)
+ A table is said to be in **second normal form** if:
  + It is in first normal form
  + and all non-key attributes are fully functional dependent on the primary
  + This is partially dependent on the primary key and only occurs if there's a composite key
+ Look at the table below:

| pupilID | courseID | courseLocation | finishDate |
|--------|-----------|-----------|-----------|
| 1 | 1 | Bourne | |
| 1 | 2 | Peterborough | |

1. The above table has a **composite key** which are the two attributes **pupilID** and **courseID** that have been combined to uniquely identify a record
2. The attribute **courseLocation** is not fully dependent on the composite key (also the primary key). It partially depends on the courseID
3. To make the above table in the second normal form, the courseLocation attribute should be in the course table:

| courseID | courseName | courseLocation |
|--------|-----------|-----------|
| 1 | Maths | Bourne |
| 2 | Biology | Peterborough |
| 3 | English | Stamford |

## Third Normal Form (3NF)
+ A table is said to be in **third normal form** if:
  + It is in the second normal form
  + And there is no non-key dependencies, or no attributes dependent or other attributes
  + **All attributes are dependent on the key, the whole key, and nothing but the key**
  
## Purpose of Database Normalisation
+ To reduce data redundancy
  + this means to avoid the same data being stored as multiple attributes in one table or across multiple tables. This wastes storage space and can easily result in data inconsistency
  + For example, store custome's name on customer table as well as in orders table
+ To maintain data intergrity
  + This means to maintain data accuracy and consistency.
  + When data is being updated, there is no danger that that piece of data has been updated in one place but not in other places.
  + For example, when updating the bodyMass of person, the isOverWeight attribute may not be updated
+ Smaller tables, therefore, faster index, fast sorting, searching, updating
+ No accidental deleting a record if that record has a relation with other entities that are still serving business needs
  + For example, deleting a member while the member is still having a rented movie not returned. A database will prevent this from happening
  
# 4.10.4 Structured Query Langauge (SQL)
## SQL Basics
+ SQL stands for structured query language
+ It's for accessing and manipulating databases
+ It's a standard language (ANSI) and all vendors implement
+ It's commonly used statements include:
  + SELECT
  + UPDATE
  + INSERT
  + DELETE
  + WHERE
  + CREATE
## Retrieve Data From a Database
+ Selecting all attributes for all records from the table ```member``` (the * is a wild card which means all attributes):
```
SELECT * FROM member;
```
+ Selecting only specific attributes for each record:
```
SELECT memberFirstName, memberLastName FROM member;
```
+ Selecting only specific attributes that meets a 

# 4.10.5 Client Server Databases
  
